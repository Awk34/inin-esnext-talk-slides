<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">

    <title>ININ ESNext Talk</title>

    <meta name="description" content="My ININ ESNext tech talk slides">
    <meta name="author" content="Andrew Koroluk">

    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/blood.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/solarized_dark.css">

    <link rel="icon"
          type="image/png"
          href="images/inin.png">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>
<div class="reveal">
    <img src="images/inin.png" alt="Interactive Intelligence" style="position: fixed; bottom: 0; left: 5px; width: 100px;"/>

    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">
        <section>
            <h1>ES.Next</h1>

            <h3>An overview of the features to come, and how to use them today</h3>

            <p>
                <small>
                    <a href="http://andrewkoroluk.com">Andrew Koroluk</a> |
                    <a href="mailto:andrew.koroluk@inin.com">andrew.koroluk@inin.com</a> |
                    <a href="https://github.com/Awk34">GitHub@Awk34</a>
                </small>
            </p>
        </section>

        <!-- Who Am I -->
        <section>
            <h2>Who am I</h2>
            <h4>Full Stack Javascript Developer</h4>

            <ul>
                <li>Hackathon Hacker</li>
                <li><a href="http://andrewkoroluk.com/">Tech Evangelist</a></li>
                <li><a href="https://github.com/DaftMonk/generator-angular-fullstack">Generator Angular Fullstack</a></li>
                <li><a href="http://andrewkoroluk.com/photography">Amateur Photographer</a></li>
                <li>Rock Climber</li>
            </ul>

            <img data-src="images/portrait_2014.jpg" alt="" style="border-radius: 50%; height: 200px; margin: 25px;"/>
        </section>

        <!-- What is ES2015 / ES6 -->
        <section>
            <h2>What is ECMAScript / ES2015 / ES6 / ES7?</h2>

            <p class="fragment">ECMAScript is the underlying specification of JavaScript, developed under Ecma International</p>

            <p class="fragment">ECMAScript 2015 (ES6) - Most recently ratified specification</p>

            <p class="fragment">ECMAScript ES7 - Next specification in development</p>
        </section>

        <!-- Let & Const -->
        <section>
            <h2>Let & Const</h2>

            <pre><code class="javascript" data-trim contenteditable style="font-size: 20px;">
if(true) {
    var var1 = 1;
    let var2 = 1;
}

console.log('var1: ' + var1);
console.log('var2: ' + var2);
// var1: 1
// ReferenceError
            </code></pre>

            <pre class="fragment"><code class="javascript" data-trim contenteditable style="font-size: 20px;">
const PI = Math.PI;

PI = 42;
// ERROR
            </code></pre>

            <pre class="fragment"><code class="javascript" data-trim contenteditable style="font-size: 20px;">
console.log(x); // ReferenceError
let x = 1;
console.log(x); // 1
            </code></pre>

            <aside class="notes">
                var: function scoped, hoisted
                let: block scoped, not hoisted
                Temporal Dead Zone (based on time, not location)
            </aside>
        </section>

        <!-- Classes -->
        <section>
            <h2>Classes</h2>

            <pre class="stretch"><code class="javascript" data-trim contenteditable style="font-size: 20px;">
class Foo extends Bar {
    constructor() {
        super();
    }
    get baz() {
        return this.baz;
    }
    set baz(newBaz) {
        this.baz = newBaz;
        console.log('You changed baz!');
    }
    static inc(x) {
        return x + 1;
    }
    // ES7
    name = 'Foo';

    @readonly
    bar() {}
    @enumerable(false)
    baz() {}
}
            </code></pre>

            <aside class="notes">
                `static` same as placing on prototype object<br/><br/>
                classes are not hoisted<br/><br/>
                Decorators make it possible to annotate and modify classes and properties at design time.
            </aside>
        </section>

        <!-- Arrow Functions -->
        <section style="height: 100%">
            <section>
                <h2>Arrow Functions</h2>

                <pre><code class="javascript" data-trim contenteditable style="font-size: 18px;">
var integers = [1, 1.5, 2, 2.5, 3].filter(function(num) {
    return Number.isInteger(num);
});
// [1, 2, 3]
                </code></pre>
                <pre class="fragment"><code class="javascript" data-trim contenteditable style="font-size: 18px;">
let integers = [1, 1.5, 2, 2.5, 3].filter(num => Number.isInteger(num));
// [1, 2, 3]
                </code></pre>
                <pre class="fragment"><code class="javascript" data-trim contenteditable style="font-size: 18px;">
() => console.log('asdf');
(a,b) => {
    console.log(a);
    console.log(b);
}
                </code></pre>
            </section>

            <section>
                <h2>Arrow Functions</h2>

                <pre style="position: absolute;"><code class="js" data-trim contenteditable style="font-size: 18px;">
class Animal {
    constructor(type) {
        this.type = type;
    }
    say(msg) {
        setTimeout(function() {
            console.log(this.type + ' says ' + msg);
        }, 500);
    }
}
let dog = new Animal('dog');
dog.say('woof');
                </code></pre>
                <pre class="fragment current-visible" style="position: absolute;"><code class="js" data-trim contenteditable style="font-size: 18px;">
class Animal {
    constructor(type) {
        this.type = type;
    }
    say(msg) {
        setTimeout(function() {
            console.log(this.type + ' says ' + msg);
        }, 500);
    }
}
let dog = new Animal('dog');
dog.say('woof');
// undefined says woof
                </code></pre>
                <pre class="fragment current-visible" style="position: absolute;"><code class="js" data-trim contenteditable style="font-size: 18px;">
class Animal {
    constructor(type) {
        this.type = type;
    }
    say(msg) {
        setTimeout(function() {
            console.log(this.type + ' says ' + msg);
        }.bind(this), 500);
    }
}
let dog = new Animal('dog');
dog.say('woof');
// dog says woof
                </code></pre>
                <pre class="fragment current-visible" style="position: absolute;"><code class="js" data-trim contenteditable style="font-size: 18px;">
class Animal {
    constructor(type) {
        this.type = type;
    }
    say(msg) {
        var self = this;
        setTimeout(function() {
            console.log(self.type + ' says ' + msg);
        }, 500);
    }
}
let dog = new Animal('dog');
dog.say('woof');
// dog says woof
                </code></pre>
                <pre class="fragment current-visible" style="position: absolute;"><code class="js" data-trim contenteditable style="font-size: 18px;">
class Animal {
    constructor(type) {
        this.type = type;
    }
    say(msg) {
        setTimeout(() => {
            console.log(this.type + ' says ' + msg);
        }, 500);
    }
}

let dog = new Animal('dog');
dog.say('woof');
// dog says woof
                </code></pre>

                <aside class="notes">
                    Arrow functions have same lexical `this`.
                </aside>
            </section>
        </section>

        <!-- Backticks -->
        <section>
            <h2>Backticks</h2>

            <pre style="position: absolute;"><code class="js" data-trim contenteditable style="font-size: 22px;">
var things = [
    'thing1',
    'thing2',
    'thing3'
].join('\n');
console.log(things);
// thing1
// thing2
// thing3

var pet = 'dog';
console.log('I have a ' + pet);
//I have a dog
            </code></pre>
            <pre class="fragment" style="position: absolute;"><code class="js" data-trim contenteditable style="font-size: 22px;">
var things = `
thing1
thing2
thing3
`;
console.log(things);
// thing1
// thing2
// thing3

let pet = 'cat';
console.log(`I have a ${pet}`);
//I have a cat
            </code></pre>

            <aside class="notes">
                Anything in `${}` is evaluated
            </aside>
        </section>

        <!-- Objects -->
        <section>
            <h2>Objects</h2>

            <pre><code class="js" data-trim contenteditable style="font-size: 20px;">
var obj = {
    // Prototype assignment
    __proto__: theProtoObj,

    // Shorthand for ‘handler: handler’
    handler,

    // Methods
    toString() {
        // Super calls
        return "Thing: " + super.toString();
    },

    // Computed (dynamic) property names
    [ 'prop_' + (() => 42)() ]: 42
};
            </code></pre>
        </section>

        <!-- Destructuring -->
        <section>
            <h2>Destructuring</h2>

            <pre class="stretch"><code class="js" data-trim contenteditable style="font-size: 18px;">
// list matching
let [a, , b] = [1,2,3];

// object matching
let obj = {a: 1, b: 2}
let {a, b} = obj
a === 1
b === 2

// Can be used in parameter position
function func({name: x}) {
    console.log(x);
}
func({name: 5})
// 5

// Fail-soft destructuring
var [a] = [];
a === undefined;

// Fail-soft destructuring with defaults
var [a = 1] = [];
a === 1;
            </code></pre>
        </section>

        <!-- Functions -->
        <section>
            <section>
                <h2>Function Parameters</h2>

                <pre><code class="js" data-trim contenteditable style="font-size: 16px;">
function f(x, y=12) {
    // y is 12 if not passed (or passed as undefined)
    return x + y;
}
f(3) == 15
                </code></pre>
                <pre><code class="js" data-trim contenteditable style="font-size: 16px;">
function f(x, ...y) {
    // y is an Array
    return x * y.length;
}
f(3, "hello", true) == 6
                </code></pre>
                <pre><code class="js" data-trim contenteditable style="font-size: 16px;">
function f(x, y, z) {
    return x + y + z;
}
// Pass each elem of array as argument
f(...[1,2,3]) == 6
                </code></pre>
            </section>

            <section>
                <h2>Generator Functions</h2>

                <pre style="position: absolute;"><code class="js" data-trim contenteditable style="font-size: 16px;">
function* countToThree() {
  var index = 1;
  while(index <= 3)
    yield index++;
}

var counter = countToThree();
                </code></pre>
                <pre class="fragment current-visible" style="position: absolute;"><code class="js" data-trim contenteditable style="font-size: 16px;">
function* countToThree() {
  var index = 1;
  while(index <= 3)
    yield index++;
}

var counter = countToThree();

console.log(counter.next());
// {value: 1, done: false}
                </code></pre>
                <pre class="fragment current-visible" style="position: absolute;"><code class="js" data-trim contenteditable style="font-size: 16px;">
function* countToThree() {
  var index = 1;
  while(index <= 3)
    yield index++;
}

var counter = countToThree();

console.log(counter.next());
// {value: 1, done: false}
console.log(counter.next());
// {value: 2, done: false}
                </code></pre>
                <pre class="fragment current-visible" style="position: absolute;"><code class="js" data-trim contenteditable style="font-size: 16px;">
function* countToThree() {
  var index = 1;
  while(index <= 3)
    yield index++;
}

var counter = countToThree();

console.log(counter.next());
// {value: 1, done: false}
console.log(counter.next());
// {value: 2, done: false}
console.log(counter.next());
// {value: 3, done: true}
                </code></pre>
                <pre class="fragment current-visible" style="position: absolute;"><code class="js" data-trim contenteditable style="font-size: 16px;">
function* countToThree() {
  var index = 1;
  while(index <= 3)
    yield index++;
}

var counter = countToThree();

console.log(counter.next());
// {value: 1, done: false}
console.log(counter.next());
// {value: 2, done: false}
console.log(counter.next());
// {value: 3, done: true}
console.log(counter.next());
// {done: true}
                </code></pre>

                <aside class="notes">
                    Function that returns multiple times
                </aside>
            </section>

            <section>
                <h2>
                    yield*
                    <a class="mdn" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/yield*"><img src="images/mdn.png"/></a>
                </h2>

                <p>
                    Yields every yield inside of the called generator function
                </p>

                <pre style="position: absolute;"><code class="js" data-trim contenteditable style="font-size: 16px;">
function* countToThree() {
  var index = 1;
  while(index <= 3)
    yield index++;
}

function* zeroToFour() {
    yield 0;
    yield* countToThree();
    yield 4;
}
                </code></pre>
                <pre class="fragment current-visible" style="position: absolute;"><code class="js" data-trim contenteditable style="font-size: 16px;">
function* countToThree() {
  var index = 1;
  while(index <= 3)
    yield index++;
}

function* zeroToFour() {
    yield 0;
    yield* countToThree();
    yield 4;
}

for(let n of zeroToFour()) {
    console.log(n);
}
// 0
// 1
// 2
// 3
// 4
                </code></pre>
            </section>

            <section>
                <h2>Async Functions (ES7)</h2>

                <pre><code class="js" data-trim contenteditable style="font-size: 16px;">
function foo() {
    return new Promise((resolve, reject) => {
        setTimeout(() => {
            if(Math.round(Math.random()))
                return resolve('Success!');
            else
                return reject('Failure!');
        }, 500);
    });
}
                </code></pre>
                <div class="fragment">
                    =
                    <pre><code class="js" data-trim contenteditable style="font-size: 16px;">
async function foo() {
    setTimeout(() => {
        if(Math.round(Math.random()))
            return 'Success!';
        else
            throw 'Failure!';
    }, 500);
}
                    </code></pre>
                </div>

                <aside class="notes">
                    Function that returns a Promise object
                    Makes async programming look like sync programmming
                </aside>
            </section>

            <section>
                <h2>Async/Await (ES7)</h2>

                <pre><code class="js" data-trim contenteditable style="font-size: 16px;">
async function foo(x) {
    setTimeout(() => {
        return x;
    }, Math.round(Math.random() * 100));
}
                </code></pre>
                <pre><code class="js" data-trim contenteditable style="font-size: 16px;">
async function bar() {
    let x = await foo(3);
    return await foo(x + 4);
}
// 7
                </code></pre>

                <aside class="notes">

                </aside>
            </section>
        </section>

        <!-- Promise -->
        <section>
            <h2>Promises</h2>

            <pre><code class="js" data-trim contenteditable style="font-size: 16px;">
function timeout(duration = 0) {
    return new Promise((resolve, reject) => {
        setTimeout(resolve, duration);
    });
}

var p = timeout(1000).then(() => {
    return timeout(2000);
}).then(() => {
    throw new Error("oops");
}).catch(err => {
    return Promise.all([timeout(100), timeout(200)]);
})
            </code></pre>

            <aside class="notes">
                Familiar if you've used Q, Bluebird..
            </aside>
        </section>

        <!-- Symbols -->
        <section>
            <h2>
                Symbols
                <a class="mdn" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol"><img src="images/mdn.png"/></a>
            </h2>

            <p style="font-size: .75em;">A symbol is a unique and immutable data type and may be used as an identifier for object properties.</p>
            <p style="font-size: .75em;">There is a Symbol primitive data type, and a globally available Symbol implicit object wrapper for it.</p>

            <h4>Well-known Symbols:</h4>
            <ul>
                <li>Symbol.iterator</li>
                <li>Symbol.hasInstance</li>
                <li>Symbol.toPrimitive</li>
            </ul>

            <pre><code data-trim contenteditable>
Symbol('foo') !== Symbol('foo')
            </code></pre>

            <aside class="notes">
                like named enumerations in C
            </aside>
        </section>

        <!-- Modules -->
        <section>
            <h2>Modules</h2>

            <pre><code data-trim contenteditable>
// lib/math.js
export function sum(x, y) {
    return x + y;
}
export var pi = 3.141592653589793;
            </code></pre>
            <pre class="fragment"><code data-trim contenteditable>
// app.js
import * as math from "lib/math";
console.log("2π = " + math.sum(math.pi, math.pi));
// 2π = 6.283185307179586
            </code></pre>
            <pre class="fragment"><code data-trim contenteditable>
// app.js
import {pi as pie, sum} from "lib/math";
console.log("2π = " + sum(pie, pie));
// 2π = 6.283185307179586
            </code></pre>
        </section>

        <!-- Map & Set -->
        <section>
            <section>
                <h2>Maps & Sets</h2>

                <h4>Efficient data structures for common algorithms</h4>

                <pre class="fragment" style="position: absolute;"><code data-trim contenteditable>
// Sets
var s = new Set();
s.add("hello").add("goodbye").add("hello");
s.size === 2;
s.has("hello") === true;
                </code></pre>
                <pre class="fragment" style="position: absolute;"><code data-trim contenteditable>
// Sets
var s = new Set();
s.add("hello").add("goodbye").add("hello");
s.size === 2;
s.has("hello") === true;

// Maps
var m = new Map();
m.set("hello", 42);
m.set(s, 34);
m.get(s) == 34;
                </code></pre>
                <pre class="fragment" style="position: absolute;"><code data-trim contenteditable>
// Sets
var s = new Set();
s.add("hello").add("goodbye").add("hello");
s.size === 2;
s.has("hello") === true;

// Maps
var m = new Map();
m.set("hello", 42);
m.set(s, 34);
m.get(s) == 34;

for(item of map) console.log(item);
// ["hello", 42]
// [Set, 34]
                </code></pre>
            </section>

            <section>
                <h2>
                    Maps
                    <a class="mdn" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map"><img src="images/mdn.png"/></a>
                </h2>

                <h4>The Map object is a simple key/value map. Any value (both objects and primitive values) may be used as either a key or a value.</h4>

                <pre class="fragment" style="position: absolute;"><code data-trim contenteditable>
let map = new Map();

const KEY1 = {};
map.set(KEY1, 'hello');
console.log(map.get(KEY1)); // hello

const KEY2 = {};
map.set(KEY2, 'world');
console.log(map.get(KEY2)); // world
                </code></pre>
                <pre class="fragment" style="position: absolute;"><code data-trim contenteditable>
let map = new Map();

const KEY1 = {};
map.set(KEY1, 'hello');
console.log(map.get(KEY1)); // hello

const KEY2 = {};
map.set(KEY2, 'world');
console.log(map.get(KEY2)); // world

console.log(map.get(KEY1)); // hello
                </code></pre>
                <pre class="fragment" style="position: absolute;"><code data-trim contenteditable>
let map = new Map();

const KEY1 = {};
map.set(KEY1, 'hello');
console.log(map.get(KEY1)); // hello

const KEY2 = {};
map.set(KEY2, 'world');
console.log(map.get(KEY2)); // world

console.log(map.get(KEY1)); // hello

console.log(map.get({})); // undefined
                </code></pre>
            </section>

            <section>
                <h2>Sets<a class="mdn" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set"><img src="images/mdn.png"/></a></h2>

                <h4>The Set object lets you store unique values of any type, whether primitive values or object references.</h4>

                <pre class="fragment" style="position: absolute;"><code data-trim contenteditable>
let set = new Set();

set.add('red');
set.add('green');
console.log(set.size); // 2

set.clear();
console.log(set.size); // 0
                </code></pre>
            </section>

            <section>
                <h2>WeakMaps & WeakSets</h2>

                <h4>Same as Maps and Sets, except they don't prevent their keys/elements from being garbage-collected (never worry about memory leaks!).</h4>

                <h4>Don't allow iteration/looping (volatility) or clearing (security).</h4>
            </section>
        </section>

        <!-- Standard Libraries -->
        <section>
            <h2>Number, Math, String, Object</h2>
            <pre style="position: absolute; font-size: 14px;"><code data-trim contenteditable>
Number.EPSILON
Number.isInteger(Infinity) // false
Number.isNaN("NaN") // false

Math.acosh(3) // 1.762747174039086
Math.hypot(3, 4) // 5
Math.imul(Math.pow(2, 32) - 1, Math.pow(2, 32) - 2) // 2

"abcde".includes("cd") // true
"abc".repeat(3) // "abcabcabc"

Array.from(document.querySelectorAll('*')) // Returns a real Array
Array.of(1, 2, 3) // Similar to new Array(...), but without special one-arg behavior
[0, 0, 0].fill(7, 1) // [0,7,7]
[1, 2, 3].find(x => x == 3) // 3
[1, 2, 3].findIndex(x => x == 2) // 1
[1, 2, 3, 4, 5].copyWithin(3, 0) // [1, 2, 3, 1, 2]
["a", "b", "c"].entries() // iterator [0, "a"], [1,"b"], [2,"c"]
["a", "b", "c"].keys() // iterator 0, 1, 2
["a", "b", "c"].values() // iterator "a", "b", "c"

Object.assign(Point, { origin: new Point(0,0) })
            </code></pre>
        </section>

        <!-- Lang -->
        <section>
            <h2>Binary and Octal Literals</h2>

            <pre><code data-trim contenteditable>
0b111110111 === 503 // true
0o767 === 503 // true
            </code></pre>
        </section>

        <!-- Transpilers -->
        <section>
            <section>
                <h2>Transpilers</h2>

                <p><b>Transpiler:</b> a type of compiler that takes the source code of one programming language and
                    outputs it into into source code of another programming language</p>

                <ul style="display: flex; flex-flow: row wrap; justify-content: space-around; list-style: none;">
                    <li><img data-src="images/babel.png" alt="" style="max-height: 150px; flex-shrink: 0; margin: 5px;"/></li>
                    <li><img data-src="images/typescript.png" alt="" style="max-height: 150px; flex-shrink: 0; margin: 5px;"/></li>
                    <li><img data-src="images/traceur.svg" alt="" style="height: 150px; flex-shrink: 0; margin: 5px;"/></li>
                </ul>
            </section>

            <section>
                <h2><img data-src="images/babel.png" alt="" style="max-height: 150px; flex-shrink: 0; margin: 5px;"/></h2>

                <ul>
                    <li>ES6 Compatability: 71%</li>
                    <li>ES7 Compatability: 71%</li>
                    <li><a href="https://github.com/facebook/regenerator">Regenerator</a></li>
                    <li><a href="https://github.com/zloirock/core-js">core-js</a></li>
                    <li>React & JSX</li>
                </ul>
                <pre style="font-size: 18px;"><code data-trim contenteditable>
var profile = &lt;div&gt;
    &lt;img src=&quot;avatar.png&quot; class=&quot;profile&quot; /&gt;
    &lt;h3&gt;{[user.firstName, user.lastName].join(' ')}&lt;/h3&gt;
&lt;/div&gt;;
                </code></pre>
                <pre style="font-size: 18px;"><code data-trim contenteditable>
var profile = React.createElement("div", null,
    React.createElement("img", { src: "avatar.png", "class": "profile" }),
    React.createElement("h3", null, [user.firstName, user.lastName].join(" "))
);
                </code></pre>
            </section>

            <section>
                <h2><img data-src="images/typescript.png" alt="" style="max-height: 150px; flex-shrink: 0; margin: 5px;"/></h2>

                <ul>
                    <li>ES6 Compatability: 25%</li>
                    <li>ES7 Compatability: 0%</li>
                </ul>
            </section>

            <section>
                <h2><img data-src="images/traceur.svg" alt="" style="max-height: 150px; flex-shrink: 0; margin: 5px;"/></h2>

                <ul>
                    <li>ES6 Compatability: 58%</li>
                    <li>ES7 Compatability: 14%</li>
                </ul>
            </section>
        </section>

        <!-- Resources -->
        <section>
            <h2>Resources</h2>

            <ul>
                <li><a href="https://github.com/Awk34/inin-esnext-talk-slides">Slides on GitHub</a></li>
                <li><a href="http://www.ecma-international.org/ecma-262/6.0/">The ES2015 Specification</a></li>
                <li><a href="https://github.com/tc39/ecma262">ECMAScript 7+ Proposals</a></li>
                <li><a href="https://kangax.github.io/compat-table/es6/">Kangax's compatibility table</a></li>
            </ul>
        </section>

        <!-- Questions -->
        <section>
            <h1>Questions?</h1>
        </section>
    </div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>
<script src="index.js"></script>
</body>
</html>
